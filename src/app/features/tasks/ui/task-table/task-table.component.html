<div
  class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden"
>
  <p-table
    [value]="tasks"
    [paginator]="true"
    [rows]="10"
    [showCurrentPageReport]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} tasks"
    [rowsPerPageOptions]="[5, 10, 25, 50]"
    styleClass="p-datatable-sm"
    responsiveLayout="scroll"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>Title</th>
        <th>Assigned To</th>
        <th>Category</th>
        <th>Status</th>
        <th>Due Date</th>
        <th>Est. Hours</th>
        <th>Actions</th>
      </tr>
    </ng-template>

         @for (task of tasks; track task.id) {
       <tr>
         <td>
           <div>
             <div class="font-medium text-gray-900 dark:text-white">
               {{ task.title }}
             </div>
             @if (task.description) {
               <div class="text-sm text-gray-500 dark:text-gray-400">
                 {{ task.description }}
               </div>
             }
           </div>
         </td>
         <td class="text-gray-900 dark:text-white">
           {{ task.assignedTo || "-" }}
         </td>
         <td>
           <span
             class="px-2 py-1 text-xs font-medium rounded-full"
             [class]="getCategoryClass(task.category)"
           >
             {{ task.category }}
           </span>
         </td>
         <td>
           <span
             class="px-2 py-1 text-xs font-medium rounded-full"
             [class]="getStatusClass(task.status)"
           >
             {{ task.status }}
           </span>
         </td>
         <td class="text-gray-900 dark:text-white">
           @if (task.dueDate) {
             {{ task.dueDate | date : "shortDate" }}
           } @else {
             -
           }
         </td>
         <td class="text-gray-900 dark:text-white">
           {{ task.estimatedHours || "-" }}
         </td>
         <td>
           <div class="flex space-x-2">
             <button
               pButton
               icon="pi pi-pencil"
               class="p-button-sm p-button-outlined"
               [routerLink]="['/tasks/edit', task.id]"
               pTooltip="Edit Task"
             ></button>
             <button
               pButton
               icon="pi pi-trash"
               class="p-button-sm p-button-outlined p-button-danger"
               (click)="onDeleteTask(task)"
               pTooltip="Delete Task"
             ></button>
           </div>
         </td>
       </tr>
     }

         @empty {
       <tr>
         <td colspan="7" class="text-center py-8">
           <div class="text-gray-500 dark:text-gray-400">
             <svg
               class="mx-auto h-12 w-12 mb-4"
               fill="none"
               stroke="currentColor"
               viewBox="0 0 24 24"
             >
               <path
                 stroke-linecap="round"
                 stroke-linejoin="round"
                 stroke-width="2"
                 d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"
               ></path>
             </svg>
             <p class="text-lg font-medium">No tasks found</p>
             <p class="text-sm">
               Try adjusting your filters or create a new task.
             </p>
           </div>
         </td>
       </tr>
     }
  </p-table>
</div>
