<div class="space-y-6">
  <!-- Header -->
  <div class="flex items-center justify-between">
    <h3 class="text-lg lg:text-xl font-semibold text-gray-900 dark:text-white">
      Filter Tasks
    </h3>
    <button
      pButton
      (click)="onClearFilters()"
      icon="pi pi-refresh"
      label="Clear All"
      class="p-button-outlined p-button-sm"
    ></button>
  </div>

  <!-- Filters Grid -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6">
    <!-- Search -->
    <div class="form-group">
      <label
        class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"
      >
        Search Tasks
      </label>
      <div class="relative">
        <i
          class="pi pi-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"
        ></i>
        <input
          pInputText
          [value]="searchTerm()"
          (input)="onSearchTermChange($any($event.target).value)"
          placeholder="Search by title, description, or assignee..."
          class="w-full pl-10 p-3 text-base"
        />
      </div>
    </div>

    <!-- Category Filter -->
    <div class="form-group">
      <label
        class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"
      >
        Category
      </label>
      <p-dropdown
        [options]="categories"
        [(ngModel)]="_selectedCategory"
        (onChange)="onCategoryChange($event.value)"
        placeholder="All Categories"
        [showClear]="true"
        class="w-full p-[0.7rem]"
        styleClass="w-full"
      >
      </p-dropdown>
    </div>

    <!-- Status Filter -->
    <div class="form-group">
      <label
        class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3"
      >
        Status
      </label>
      <p-dropdown
        [options]="statuses"
        [(ngModel)]="_selectedStatus"
        (onChange)="onStatusChange($event.value)"
        placeholder="All Statuses"
        [showClear]="true"
        class="w-full p-[0.7rem]"
        styleClass="w-full"
      >
      </p-dropdown>
    </div>
  </div>

  <!-- Active Filters Display -->
  @if (searchTerm() || _selectedCategory || _selectedStatus) {
  <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4">
    <h4 class="text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3">
      Active Filters:
    </h4>
    <div class="flex flex-wrap gap-2">
      @if (searchTerm()) {
      <span
        class="px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-300 text-sm font-medium rounded-full"
      >
        Search: "{{ searchTerm() }}"
        <button
          (click)="onSearchTermChange('')"
          class="ml-2 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200"
        >
          <i class="pi pi-times text-xs"></i>
        </button>
      </span>
      } @if (_selectedCategory) {
      <span
        class="px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-300 text-sm font-medium rounded-full"
      >
        Category: {{ _selectedCategory }}
        <button
          (click)="onCategoryChange(null)"
          class="ml-2 text-purple-600 dark:text-purple-400 hover:text-purple-800 dark:hover:text-purple-200"
        >
          <i class="pi pi-times text-xs"></i>
        </button>
      </span>
      } @if (_selectedStatus) {
      <span
        class="px-3 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-300 text-sm font-medium rounded-full"
      >
        Status: {{ _selectedStatus }}
        <button
          (click)="onStatusChange(null)"
          class="ml-2 text-green-600 dark:text-green-400 hover:text-green-800 dark:hover:text-green-200"
        >
          <i class="pi pi-times text-xs"></i>
        </button>
      </span>
      }
    </div>
  </div>
  }
</div>
